<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Shriya Chinthak">
<meta name="dcterms.date" content="2023-10-12">

<title>Data Science and Analytics - cleaning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Data Science and Analytics</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://shriya-chinthak.georgetown.domains" rel="" target="">
 <span class="menu-text">About Me</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">cleaning</li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/anly501/dsan-5000-project-schinthak" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/anly501/dsan-5000-project-schinthak/tree/main/data" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Small data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://drive.google.com/drive/folders/1wHN6Kc3r0QponGBZ3pAxJ6gGNcN-lsyV?usp=drive_link" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Large data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-gathering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Gathering</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Cleaning</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-exploration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Exploration</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./naive-bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Naive Bayes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clustering</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dimensionality Reduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Decision Trees</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./arm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ARM</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Conclusions</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#symptoms" id="toc-symptoms" class="nav-link active" data-scroll-target="#symptoms">Symptoms:</a>
  <ul class="collapse">
  <li><a href="#harvard-long-covid-data" id="toc-harvard-long-covid-data" class="nav-link" data-scroll-target="#harvard-long-covid-data">Harvard Long Covid Data:</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">cleaning</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Shriya Chinthak </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 12, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.3     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.3     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>cdc <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../../data/00-raw-data/cdc_raw.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(cdc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   11376 obs. of  16 variables:
 $ indicator             : chr  "Ever experienced long COVID, as a percentage of all adults" "Ever experienced long COVID, as a percentage of all adults" "Ever experienced long COVID, as a percentage of all adults" "Ever experienced long COVID, as a percentage of all adults" ...
 $ group                 : chr  "National Estimate" "By Age" "By Age" "By Age" ...
 $ state                 : chr  "United States" "United States" "United States" "United States" ...
 $ subgroup              : chr  "United States" "18 - 29 years" "30 - 39 years" "40 - 49 years" ...
 $ phase                 : num  3.5 3.5 3.5 3.5 3.5 3.5 3.5 3.5 3.5 3.5 ...
 $ time_period           : int  46 46 46 46 46 46 46 46 46 46 ...
 $ time_period_label     : chr  "Jun 1 - Jun 13, 2022" "Jun 1 - Jun 13, 2022" "Jun 1 - Jun 13, 2022" "Jun 1 - Jun 13, 2022" ...
 $ time_period_start_date: chr  "2022-06-01" "2022-06-01" "2022-06-01" "2022-06-01" ...
 $ time_period_end_date  : chr  "2022-06-13" "2022-06-13" "2022-06-13" "2022-06-13" ...
 $ value                 : num  14 17.8 15.2 16.9 15.3 10.9 7.1 4.2 10.5 17.3 ...
 $ lowci                 : num  13.5 15.9 14.1 15.7 14.1 9.8 5.9 3.4 9.8 16.5 ...
 $ highci                : num  14.5 19.8 16.2 18.3 16.7 12 8.5 5.3 11.2 18.1 ...
 $ confidence_interval   : chr  "13.5 - 14.5" "15.9 - 19.8" "14.1 - 16.2" "15.7 - 18.3" ...
 $ quartile_range        : chr  "" "" "" "" ...
 $ quartile_number       : int  NA NA NA NA NA NA NA NA NA NA ...
 $ suppression_flag      : int  NA NA NA NA NA NA NA NA NA NA ...</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Let's drop the last three columns related to quartiles since it is unnessesary. </span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>cdc <span class="ot">&lt;-</span> cdc <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>quartile_range, <span class="sc">-</span>quartile_number, <span class="sc">-</span>suppression_flag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Now, let's check the unique values of indicator to condense the values since they're a little too long</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>cdc_keys <span class="ot">&lt;-</span> cdc <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(indicator) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>cdc_keys <span class="ot">&lt;-</span> cdc_keys <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">key =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(cdc_keys))</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">#Since there are 10 unique categories, we'll create a new column with a key, such that the number matches up with a value. </span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>cdc <span class="ot">&lt;-</span> cdc <span class="sc">%&gt;%</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">right_join</span>(cdc_keys, <span class="at">by =</span> <span class="st">"indicator"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#We can also eliminate time_period_label and confidence_interval as both values are repeated in other columns </span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>cdc <span class="ot">&lt;-</span> cdc <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>time_period_label, <span class="sc">-</span>confidence_interval)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Now, let's make the time start and time end datetime variables</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>cdc <span class="ot">&lt;-</span> cdc <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">time_period_start_date =</span> <span class="fu">as.Date</span>(time_period_start_date)) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">time_period_end_date =</span> <span class="fu">as.Date</span>(time_period_end_date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Let's look at the unique values for the group column and adjust as needed:</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>cdc <span class="ot">&lt;-</span> cdc <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">str_replace</span>(group, <span class="st">"^By</span><span class="sc">\\</span><span class="st">s"</span>, <span class="st">""</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#We also need to check for any na values </span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>cdc <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="sc">~</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(.)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  indicator group state subgroup phase time_period time_period_start_date
1         0     0     0        0     0           0                      0
  time_period_end_date value lowci highci key
1                    0  1399  1399   1399   0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#From this we can say that the columns that have na's are all value and the corresponding lowci and highci. Thus, since the main variable we are tracking is value, we will go ahead and drop all rows where value = NA. Viewing the data, there also appears to be a connection between phace = -1 and the NA values. </span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>cdc <span class="ot">&lt;-</span> cdc <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(value))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>cdc <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="sc">~</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(.)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  indicator group state subgroup phase time_period time_period_start_date
1         0     0     0        0     0           0                      0
  time_period_end_date value lowci highci key
1                    0     0     0      0   0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#The data no longer has NA's! We can also see that this decision filtered out 12.5% of the original dataset. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Lastly, we'll get rid of the indicator column and show the cleaned data:</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>cdc <span class="ot">&lt;-</span> cdc <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>indicator)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cdc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              group         state      subgroup phase time_period
1 National Estimate United States United States   3.5          46
2               Age United States 18 - 29 years   3.5          46
3               Age United States 30 - 39 years   3.5          46
4               Age United States 40 - 49 years   3.5          46
5               Age United States 50 - 59 years   3.5          46
6               Age United States 60 - 69 years   3.5          46
  time_period_start_date time_period_end_date value lowci highci key
1             2022-06-01           2022-06-13  14.0  13.5   14.5   1
2             2022-06-01           2022-06-13  17.8  15.9   19.8   1
3             2022-06-01           2022-06-13  15.2  14.1   16.2   1
4             2022-06-01           2022-06-13  16.9  15.7   18.3   1
5             2022-06-01           2022-06-13  15.3  14.1   16.7   1
6             2022-06-01           2022-06-13  10.9   9.8   12.0   1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>cdc_keys</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                                                  indicator
1                                                Ever experienced long COVID, as a percentage of all adults
2                                 Ever experienced long COVID, as a percentage of adults who ever had COVID
3                                          Currently experiencing long COVID, as a percentage of all adults
4                           Currently experiencing long COVID, as a percentage of adults who ever had COVID
5                                                                                            Ever had COVID
6         Any activity limitations from long COVID, as a percentage of adults who currently have long COVID
7                                   Any activity limitations from long COVID, as a percentage of all adults
8 Significant activity limitations from long COVID, as a percentage of adults who currently have long COVID
9                           Significant activity limitations from long COVID, as a percentage of all adults
  key
1   1
2   2
3   3
4   4
5   5
6   6
7   7
8   8
9   9</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(cdc, <span class="st">"../../data/01-modified-data/cdc_clean.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="symptoms" class="level2">
<h2 class="anchored" data-anchor-id="symptoms">Symptoms:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'janitor'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    chisq.test, fisher.test</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>long_covid_uk_health <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"../../data/00-raw-data/longcovid_uk.xlsx"</span>, <span class="at">sheet =</span> <span class="st">'Table 3'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...2`
• `` -&gt; `...3`
• `` -&gt; `...4`
• `` -&gt; `...5`
• `` -&gt; `...6`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>long_covid_uk_job <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"../../data/00-raw-data/longcovid_uk.xlsx"</span>, <span class="at">sheet =</span> <span class="st">'Table 4'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...2`
• `` -&gt; `...3`
• `` -&gt; `...4`
• `` -&gt; `...5`
• `` -&gt; `...6`</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">#For Long Covid with regards to Health </span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co">#First, we'll remove the first three rows since they're all empty. </span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>long_covid_uk_health <span class="ot">&lt;-</span> long_covid_uk_health <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">row_number</span>() <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Next, we'll make top row the column names:</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>long_covid_uk_health <span class="ot">&lt;-</span> long_covid_uk_health <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">set_names</span>(<span class="fu">as.character</span>(<span class="fu">slice</span>(., <span class="dv">1</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Now, we need to name the column names tidy:</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>long_covid_uk_health <span class="ot">&lt;-</span> long_covid_uk_health <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Next, we'll need to change the datatypes of certain columns. </span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>long_covid_uk_health <span class="ot">&lt;-</span> long_covid_uk_health <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">estimate =</span> <span class="fu">as.double</span>(estimate)) <span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lower_95_percent_confidence_limit =</span> <span class="fu">as.double</span>(lower_95_percent_confidence_limit)) <span class="sc">%&gt;%</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">upper_95_percent_confidence_limit =</span> <span class="fu">as.double</span>(upper_95_percent_confidence_limit))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There was 1 warning in `mutate()`.
ℹ In argument: `estimate = as.double(estimate)`.
Caused by warning:
! NAs introduced by coercion</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There was 1 warning in `mutate()`.
ℹ In argument: `lower_95_percent_confidence_limit =
  as.double(lower_95_percent_confidence_limit)`.
Caused by warning:
! NAs introduced by coercion</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There was 1 warning in `mutate()`.
ℹ In argument: `upper_95_percent_confidence_limit =
  as.double(upper_95_percent_confidence_limit)`.
Caused by warning:
! NAs introduced by coercion</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Checking for NA values:</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>long_covid_uk_health <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="sc">~</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(.)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 6
  symptom domain group estimate lower_95_percent_confid…¹ upper_95_percent_con…²
    &lt;int&gt;  &lt;int&gt; &lt;int&gt;    &lt;int&gt;                     &lt;int&gt;                  &lt;int&gt;
1       0      0     0        8                         8                      8
# ℹ abbreviated names: ¹​lower_95_percent_confidence_limit,
#   ²​upper_95_percent_confidence_limit</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">#No NA values! </span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Let's see the cleaned data: </span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(long_covid_uk_health)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  symptom    domain group estimate lower_95_percent_con…¹ upper_95_percent_con…²
  &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;
1 Abdominal… All p… All …     9.56                   8.82                  10.3 
2 Abdominal… Healt… No h…     6.96                   6.04                   7.87
3 Abdominal… Healt… Acti…     6.06                   4.26                   7.85
4 Abdominal… Healt… Acti…    11.3                    9.7                   12.9 
5 Abdominal… Healt… Acti…    17.2                   14.8                   19.6 
6 Abdominal… Exten… Not …     2.29                   1.51                   3.07
# ℹ abbreviated names: ¹​lower_95_percent_confidence_limit,
#   ²​upper_95_percent_confidence_limit</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(long_covid_uk_health, <span class="st">"../../data/01-modified-data/long_covid_uk_health_clean.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Now, we'll do the same cleaning for employement status data since it's the same format:</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>long_covid_uk_job <span class="ot">&lt;-</span> long_covid_uk_job <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">row_number</span>() <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Next, we'll make top row the column names:</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>long_covid_uk_job <span class="ot">&lt;-</span> long_covid_uk_job <span class="sc">%&gt;%</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">set_names</span>(<span class="fu">as.character</span>(<span class="fu">slice</span>(., <span class="dv">1</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Now, we need to name the column names tidy:</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>long_covid_uk_job <span class="ot">&lt;-</span> long_covid_uk_job <span class="sc">%&gt;%</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="co">#Next, we'll need to change the datatypes of certain columns. </span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>long_covid_uk_job <span class="ot">&lt;-</span> long_covid_uk_job <span class="sc">%&gt;%</span></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">estimate =</span> <span class="fu">as.double</span>(estimate)) <span class="sc">%&gt;%</span></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lower_95_percent_confidence_limit =</span> <span class="fu">as.double</span>(lower_95_percent_confidence_limit)) <span class="sc">%&gt;%</span></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">upper_95_percent_confidence_limit =</span> <span class="fu">as.double</span>(upper_95_percent_confidence_limit))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There was 1 warning in `mutate()`.
ℹ In argument: `estimate = as.double(estimate)`.
Caused by warning:
! NAs introduced by coercion</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There was 1 warning in `mutate()`.
ℹ In argument: `lower_95_percent_confidence_limit =
  as.double(lower_95_percent_confidence_limit)`.
Caused by warning:
! NAs introduced by coercion</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There was 1 warning in `mutate()`.
ℹ In argument: `upper_95_percent_confidence_limit =
  as.double(upper_95_percent_confidence_limit)`.
Caused by warning:
! NAs introduced by coercion</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Checking for NA values:</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>long_covid_uk_job <span class="sc">%&gt;%</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="sc">~</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(.)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 6
  symptom domain group estimate lower_95_percent_confid…¹ upper_95_percent_con…²
    &lt;int&gt;  &lt;int&gt; &lt;int&gt;    &lt;int&gt;                     &lt;int&gt;                  &lt;int&gt;
1       0      0     0      111                       111                    111
# ℹ abbreviated names: ¹​lower_95_percent_confidence_limit,
#   ²​upper_95_percent_confidence_limit</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co">#There are a significant number of NA values for estimate and the confidence intervals. </span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Since these are for specific groups, the NA's mean that data was not collected for these groups. </span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Since we can't use "other" groups to estimate this data, we will drop these rows. </span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co">#This results is a loss of 13% of the original dataset. </span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>long_covid_uk_job <span class="ot">&lt;-</span> long_covid_uk_job <span class="sc">%&gt;%</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(estimate))</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(long_covid_uk_job)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  symptom    domain group estimate lower_95_percent_con…¹ upper_95_percent_con…²
  &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;
1 Abdominal… All p… All …     9.56                   8.82                  10.3 
2 Abdominal… Emplo… Empl…     8.9                    7.92                   9.89
3 Abdominal… Emplo… Inac…    18.6                   15.8                   21.5 
4 Abdominal… Emplo… Inac…     7.5                    6.34                   8.66
5 Abdominal… Self-… Empl…     9.04                   7.97                  10.1 
6 Abdominal… Self-… Self…     8.05                   5.56                  10.6 
# ℹ abbreviated names: ¹​lower_95_percent_confidence_limit,
#   ²​upper_95_percent_confidence_limit</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(long_covid_uk_job, <span class="st">"../../data/01-modified-data/long_covid_uk_job_clean.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="harvard-long-covid-data" class="level3">
<h3 class="anchored" data-anchor-id="harvard-long-covid-data">Harvard Long Covid Data:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>harvard_covid <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"../../data/00-raw-data/harvard_long_covid.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 1131 Columns: 186
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (118): status, country, sex, CovidPositive, days_acuteCovid, Vaccination...
dbl  (65): ResponseId, age, BMI, BMICat, Vaccination, Vaccine_doses, Hospita...
lgl   (3): pain_pastweek, pain_now, anxietydepression_pastweek

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(harvard_covid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,131
Columns: 186
$ status                       &lt;chr&gt; "Complete", "Partial", "Partial", "Partia…
$ country                      &lt;chr&gt; NA, "Israel", "Israel", "Israel", "Israel…
$ sex                          &lt;chr&gt; "male", NA, NA, NA, NA, NA, "female", NA,…
$ ResponseId                   &lt;dbl&gt; 56, 57, 59, 61, 62, 63, 65, 66, 67, 68, 6…
$ CovidPositive                &lt;chr&gt; "Yes", "Yes", "Yes", "Yes", "Yes", "Yes",…
$ days_acuteCovid              &lt;chr&gt; "Several days:", "Several days:", "I did …
$ Vaccination_status           &lt;chr&gt; "Yes", "Yes", "Yes", "Yes", NA, "No", "Ye…
$ No_Doses                     &lt;chr&gt; "Two servings", "One course", "Two servin…
$ Type_vaccine                 &lt;chr&gt; "Pfizer", "Pfizer", "Pfizer", "Pfizer", N…
$ Hospital_admission           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "No", NA,…
$ Hospital_readmission         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ICU_admission                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Recovery                     &lt;chr&gt; "Disagree", "Tends to agree", "Strongly a…
$ fever                        &lt;chr&gt; "No", "Yes", "No", "No", NA, "No", "No", …
$ Last_fever                   &lt;chr&gt; NA, "2-4 weeks ago", NA, NA, NA, NA, NA, …
$ Cause_lastfever              &lt;chr&gt; NA, "Other respiratory infection (cough /…
$ OtherCause_lastfever         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Heart_attack                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ stroke                       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ kidney                       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ DVT                          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ PE                           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Covid_complications          &lt;chr&gt; NA, NA, NA, "Other - Please specify:", NA…
$ OtherCovid_complications     &lt;chr&gt; NA, NA, NA, "I had a cardiac arrest for m…
$ PreCovid_conditions          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, "Hype…
$ headache_pastweek            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ persistentCough_pastweek     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ phlegm_pastweek              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ anosmia_pastweek             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Ageusia_pastweek             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ SOB_pastweek                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Painfulbreathing_pastweek    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Chestpain_pastweek           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ palpitations_pastweek        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Weightloss_pastweek          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Appetiteloss_pastweek        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ AbdominalPain_pastweek       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ NausiaVomiting_pastweek      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Constipation_pastweek        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Diarrhoea_pastweek           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Micturition_pastweek         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ fatigue_pastweek             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Hairloss_pastweek            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Headache_pastweek            &lt;chr&gt; NA, NA, NA, "During the period diagnosed …
$ Persistentcough1_pastweek    &lt;chr&gt; NA, NA, "Over the past week", "During the…
$ Phlegm1_pastweek             &lt;chr&gt; NA, NA, NA, "During the period diagnosed …
$ Drycough_pastweek            &lt;chr&gt; NA, NA, NA, "During the period diagnosed …
$ anosmia1_pastweek            &lt;chr&gt; "During the period diagnosed with Corona"…
$ ageusia1_pastweek            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ SOB1_pastweek                &lt;chr&gt; "During the last week, during a period di…
$ Painfulbreathing_now         &lt;chr&gt; NA, NA, NA, "During the period diagnosed …
$ chestpain_now                &lt;chr&gt; NA, NA, NA, "During the period diagnosed …
$ palpitations_now             &lt;chr&gt; NA, NA, NA, "During the period diagnosed …
$ Weightloss_now               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Appetiteloss_now             &lt;chr&gt; NA, NA, NA, "During the period diagnosed …
$ Abdominalpain_now            &lt;chr&gt; NA, NA, NA, "During the period diagnosed …
$ NauseaVomiting_now           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "…
$ constipation_now             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Diarrhoea_now                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "…
$ Micturition_now              &lt;chr&gt; NA, NA, NA, "During the period diagnosed …
$ Fatigue_now                  &lt;chr&gt; NA, NA, NA, "During the period diagnosed …
$ Hairloss_now                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, "During the last …
$ erectiledysfunction_now      &lt;chr&gt; NA, NA, NA, "During the period diagnosed …
$ mestruation_now              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ SwollenAnkles_pastweek       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ balance_pastweek             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ weaknessArmslegs_pastweek    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ musclePain_pastweek          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ JointPainswelling_pastweek   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ movement_pastweek            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ faciallossensation_pastweek  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ tingling_pastweek            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ dizziness_pastweek           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Fainting_pastweek            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ seizures_pastweek            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ tremors_pastweek             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ confusion_pastweek           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Chewing_pastweek             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ DoubleVision_pastweek        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Speaking_pastweek            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ sleeping_pastweek            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ rashes_pastweek              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ swollenAnkles_now            &lt;chr&gt; NA, NA, NA, "From the period diagnosed wi…
$ balance_now                  &lt;chr&gt; NA, NA, NA, "From the period diagnosed wi…
$ weaknessArmsLegs_now         &lt;chr&gt; NA, NA, NA, "From the period diagnosed wi…
$ Musclepain_now               &lt;chr&gt; NA, NA, NA, "From the period diagnosed wi…
$ jointpain_now                &lt;chr&gt; NA, NA, NA, "From the period diagnosed wi…
$ movement_now                 &lt;chr&gt; NA, NA, NA, "From the period diagnosed wi…
$ facelossensation_now         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ tingling_now                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Dizziness_now                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ fainting_now                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ seizures_now                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ tremors_now                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ confusion_now                &lt;chr&gt; NA, NA, NA, NA, NA, "Over the past week",…
$ ChewingSwallowin_now         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ DoubleVision_now             &lt;chr&gt; NA, NA, NA, "From the period diagnosed wi…
$ speakingCommunication_now    &lt;chr&gt; NA, NA, NA, "From the period diagnosed wi…
$ sleeping_now                 &lt;chr&gt; "From the period diagnosed with corona", …
$ rashesLumps_now              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "Over the…
$ Skinrash_pastweek            &lt;chr&gt; "No", NA, "No", "No", NA, "No", "No", NA,…
$ Bleeding_pastweek            &lt;chr&gt; "No", NA, "No", "No", NA, "No", "No", NA,…
$ Bleeding_Site                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ OtherSymptoms                &lt;chr&gt; NA, NA, NA, "No", NA, "Difficulty in retr…
$ pain_pastweek                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ pain_now                     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ anxietydepression_pastweek   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ anxietydepression_now        &lt;chr&gt; "I have not experienced / have not experi…
$ anxietydepression_AcuteCovid &lt;chr&gt; "I have not experienced / have not experi…
$ Monthly_income               &lt;chr&gt; "Not sure or prefers not to elaborate", N…
$ Marrital_status              &lt;chr&gt; "Married", NA, NA, NA, NA, NA, "Married",…
$ Marrital_Otherstatus         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Identity                     &lt;chr&gt; "Jewish girl", NA, NA, NA, NA, NA, "Jewis…
$ Other_Identity               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Religious_Identity           &lt;chr&gt; "religious", NA, NA, NA, NA, NA, "traditi…
$ Religious_OtherIdentity      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Religious_Residence          &lt;chr&gt; "Traditional", NA, NA, NA, NA, NA, "Tradi…
$ Religious_OtherResidence     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Municipality_Residence       &lt;chr&gt; "Town / Local Council (up to 20,000 resid…
$ Municipality_OtherResidence  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ education_level              &lt;chr&gt; "PhD or higher", NA, NA, NA, NA, NA, "BA"…
$ Othereducation_level         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ age                          &lt;dbl&gt; 40, 49, 87, 66, 45, 34, 37, 48, 32, 68, 4…
$ BMI                          &lt;dbl&gt; 25.50362, NA, NA, NA, NA, NA, 28.40909, N…
$ BMICat                       &lt;dbl&gt; 3, NA, NA, NA, NA, NA, 3, NA, 3, NA, NA, …
$ Vaccination                  &lt;dbl&gt; 1, 1, 1, 1, NA, 0, 1, 0, 0, 1, 1, NA, NA,…
$ Vaccine_doses                &lt;dbl&gt; 2, 1, 2, 1, NA, NA, 1, NA, NA, 2, 1, NA, …
$ Hospitalisation              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA…
$ full_recovery                &lt;dbl&gt; 0, 1, 1, 1, NA, 1, 1, 0, 1, 0, 1, NA, NA,…
$ Vaccination_status2          &lt;dbl&gt; 2, 1, 2, 1, NA, 0, 1, 0, 0, 2, 1, NA, NA,…
$ covid_complications          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ agegroup                     &lt;dbl&gt; 2, 2, 3, 3, NA, 1, 2, 2, 1, 3, 2, NA, NA,…
$ agegroup2                    &lt;dbl&gt; 1, 1, 2, 2, NA, 1, 1, 1, 1, 2, 1, NA, NA,…
$ Median_followupTime          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 335, NA, …
$ Median_followupTime2         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 335, NA, …
$ kidney2                      &lt;dbl&gt; NA, NA, NA, 0, NA, NA, 0, NA, NA, 0, NA, …
$ Heart_attack2                &lt;dbl&gt; NA, NA, NA, 0, NA, NA, 0, NA, NA, 0, NA, …
$ DVT2                         &lt;dbl&gt; NA, NA, NA, 0, NA, NA, 0, NA, NA, 0, NA, …
$ PE2                          &lt;dbl&gt; NA, NA, NA, 0, NA, NA, 0, NA, NA, 0, NA, …
$ Headache_pastweek2           &lt;dbl&gt; 0, 0, 0, 0, NA, 1, 0, 0, 0, 0, 0, NA, NA,…
$ Fatigue_now2                 &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 1, 0, 0, 0, 0, NA, NA,…
$ Persistentcough1_pastweek2   &lt;dbl&gt; 0, 0, 1, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ anosmia1_pastweek2           &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ ageusia1_pastweek2           &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ SOB1_pastweek2               &lt;dbl&gt; 1, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ Painfulbreathing_now2        &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ chestpain_now2               &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ palpitations_now2            &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ Weightloss_now2              &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ Appetiteloss_now2            &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ Abdominalpain_now2           &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ NauseaVomiting_now2          &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ constipation_now2            &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ Diarrhoea_now2               &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ Micturition_now2             &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ Hairloss_now2                &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 1, 0, 0, 0, 1, NA, NA,…
$ erectiledysfunction_now2     &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ mestruation_now2             &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ balance_now2                 &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ weaknessArmsLegs_now2        &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ Musclepain_now2              &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ jointpain_now2               &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ movement_now2                &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ facelossensation_now2        &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ tingling_now2                &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ Dizziness_now2               &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ fainting_now2                &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ seizures_now2                &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ tremors_now2                 &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ confusion_now2               &lt;dbl&gt; 0, 0, 0, 0, NA, 1, 0, 0, 0, 0, 0, NA, NA,…
$ ChewingSwallowin_now2        &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ DoubleVision_now2            &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ speakingCommunication_now2   &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 1, 0, 0, 0, 0, NA, NA,…
$ sleeping_now2                &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ rashesLumps_now2             &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 1, 0, 0, NA, NA,…
$ anxietydepression_now2       &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ DVT3                         &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ Heart_attack3                &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ kidney3                      &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ PE3                          &lt;dbl&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, NA, NA,…
$ residence                    &lt;dbl&gt; 2, NA, NA, NA, NA, NA, 3, NA, 1, NA, NA, …
$ education_level2             &lt;dbl&gt; 1, NA, NA, NA, NA, NA, 1, NA, 1, NA, NA, …
$ income                       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 2, NA, 3, NA, NA,…
$ ethnicity                    &lt;dbl&gt; 1, NA, NA, NA, NA, NA, 1, NA, 1, NA, NA, …
$ Doses                        &lt;dbl&gt; 2, 1, 2, 1, NA, 0, 1, 0, 0, 2, 1, NA, NA,…
$ Headache_covid               &lt;dbl&gt; 0, 0, 0, 1, NA, 0, 1, 0, 0, 0, 1, NA, NA,…</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>harvard_covid <span class="ot">&lt;-</span> harvard_covid <span class="sc">%&gt;%</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(status<span class="sc">:</span>Hospital_admission, age<span class="sc">:</span>Headache_covid) <span class="sc">%&gt;%</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>country, <span class="sc">-</span>income, <span class="sc">-</span>ethnicity, <span class="sc">-</span>PE2, <span class="sc">-</span>BMICat, <span class="sc">-</span>Vaccination_status, </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span>No_Doses, <span class="sc">-</span>Type_vaccine, <span class="sc">-</span>agegroup, <span class="sc">-</span>agegroup2, <span class="sc">-</span>DVT3, <span class="sc">-</span>DVT2, </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span>Median_followupTime, <span class="sc">-</span>Median_followupTime2, <span class="sc">-</span>kidney3, <span class="sc">-</span>Heart_attack3) <span class="sc">%&gt;%</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(sex) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(CovidPositive) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(BMI) <span class="sc">&amp;</span> </span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>           <span class="sc">!</span><span class="fu">is.na</span>(Hospital_admission) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(days_acuteCovid)) <span class="sc">%&gt;%</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_all</span>(<span class="sc">~</span><span class="fu">sub</span>(<span class="st">"2$"</span>, <span class="st">""</span>, .)) <span class="sc">%&gt;%</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_all</span>(<span class="sc">~</span><span class="fu">sub</span>(<span class="st">"3$"</span>, <span class="st">""</span>, .)) <span class="sc">%&gt;%</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_all</span>(<span class="sc">~</span><span class="fu">sub</span>(<span class="st">"_now$"</span>, <span class="st">""</span>, .)) <span class="sc">%&gt;%</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_all</span>(<span class="sc">~</span><span class="fu">sub</span>(<span class="st">"_pastweek$"</span>, <span class="st">""</span>, .)) <span class="sc">%&gt;%</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace</span>(<span class="fu">is.na</span>(.), <span class="dv">0</span>)</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(harvard_covid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 58
  status   sex    response_id covid_positive days_acute_covid hospital_admission
  &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt;            &lt;chr&gt;             
1 Complete male            67 Yes            Several days:    No                
2 Complete female          87 Yes            Several days:    No                
3 Complete female          89 Yes            Several days:    No                
4 Complete female         124 Yes            Several days:    No                
5 Complete female         127 Yes            Several days:    No                
6 Complete female         134 Yes            Several days:    No                
# ℹ 52 more variables: age &lt;dbl&gt;, bmi &lt;dbl&gt;, vaccination &lt;dbl&gt;,
#   vaccine_doses &lt;dbl&gt;, hospitalisation &lt;dbl&gt;, full_recovery &lt;dbl&gt;,
#   vaccination_status &lt;dbl&gt;, covid_complications &lt;dbl&gt;, kidney &lt;dbl&gt;,
#   heart_attack &lt;dbl&gt;, headache &lt;dbl&gt;, fatigue &lt;dbl&gt;, persistentcough1 &lt;dbl&gt;,
#   anosmia1 &lt;dbl&gt;, ageusia1 &lt;dbl&gt;, sob1 &lt;dbl&gt;, painfulbreathing &lt;dbl&gt;,
#   chestpain &lt;dbl&gt;, palpitations &lt;dbl&gt;, weightloss &lt;dbl&gt;, appetiteloss &lt;dbl&gt;,
#   abdominalpain &lt;dbl&gt;, nausea_vomiting &lt;dbl&gt;, constipation &lt;dbl&gt;, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(harvard_covid, <span class="st">"../../data/01-modified-data/harvard_long_covid_cleaned.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(harvard_covid<span class="sc">$</span>hospital_admission)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No"  "Yes"</code></pre>
</div>
</div>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>